<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quotes Rohani Kristen</title>
    <link rel="stylesheet" type="text/css" href="/assets/css/styles.css">
</head>
<body>
    <img class="logo" src="/assets/img/Chat_Kristen.png" alt="Logo">
    <div class="top-text">Kata Bijak</div>
    <div class="container" id="quoteContainer">
        <div class="indicator">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        <div class="profile">
            <img src="https://source.unsplash.com/50x50/?person" alt="Profile Picture">
            <div class="profile-info">
                <span class="profile-name" id="profileName">Nama Media Sosial</span>
                <span class="username" id="username">@reallygreatsite</span>
            </div>
        </div>
        <p class="quote" id="quote">"Kasih Tuhan tidak berkesudahan."</p>
        <p class="hashtags" id="hashtags">#katabijak #motivasi #kehidupan</p>
    </div>
    <div class="footer">@chatkristen</div>

    <script>
        let quotes = [];

        async function loadQuotes() {
            try {
                const response = await fetch('/data/quotes.json');
                quotes = await response.json();
                tampilkanQuote();
            } catch (error) {
                console.error("Gagal memuat quotes:", error);
            }
        }

        function randomColor() {
            const colors = ["#f8d7da", "#d1ecf1", "#d4edda", "#fff3cd", "#e2e3e5"];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function getTextColor(bgColor) {
            return (["#d1ecf1", "#fff3cd", "#e2e3e5"].includes(bgColor)) ? "#333" : "#000";
        }

        function tampilkanQuote() {
            if (quotes.length === 0) return;

            const quoteElement = document.getElementById('quote');
            const hashtagsElement = document.getElementById('hashtags');
            const container = document.getElementById('quoteContainer');
            const circles = document.querySelectorAll('.circle');
            const profileName = document.getElementById('profileName');
            const username = document.getElementById('username');

            const randomIndex = Math.floor(Math.random() * quotes.length);
            const newBgColor = randomColor();
            const textColor = getTextColor(newBgColor);

            quoteElement.style.opacity = 0;
            hashtagsElement.style.opacity = 0;

            setTimeout(() => {
                quoteElement.innerText = quotes[randomIndex].text;
                hashtagsElement.innerText = quotes[randomIndex].tags;

                container.style.background = newBgColor;
                container.style.color = textColor;
                profileName.style.color = textColor;
                username.style.color = textColor;

                quoteElement.style.opacity = 1;
                hashtagsElement.style.opacity = 1;

                circles.forEach((circle, index) => {
                    circle.style.background = (index === randomIndex % circles.length) ? "#ff5733" : "#ccc";
                });

                setTimeout(tampilkanQuote, hitungWaktuTampil(quotes[randomIndex].text));
            }, 1000);
        }

        function hitungWaktuTampil(quote) {
            const words = quote.split(" ").length;
            return words * 500 + 2000;
        }

        loadQuotes();
    </script>
</body>
</html>
